version: "3.5"
        
services:
    jenkins:
        container_name: jenkins
        environment:
            - PLUGINS_FORCE_UPGRADE=true # Enforce upgrade of native plugins at startup
        image: devops_jenkins
        ports:
            - "9080:8080"
            - "50001:50000"
            - "9443:443"
        volumes:
            - ./docker_volumes/jenkins:/home/jenkins # Allows to write .ssh/known_hosts
            - ./docker_volumes/jenkins_home:/var/jenkins_home
            - ./docker_volumes/jenkins_socket/:/var/run/docker.sock # Jenkins allowed to start/stop containers
            - ./project_folder:/home/jenkins_git_repo
            
    # sonarqube:
    #     container_name: sonarqube
    #     image: sonarqube:lts
    #     ports:
    #         - "8082:9000"
    #     volumes:
    #         - ./docker_volumes/sonarqube_conf:/opt/sonarqube/conf
    #         - ./docker_volumes/sonarqube_data:/opt/sonarqube/data
    #         - ./docker_volumes/sonarqube_extensions:/opt/sonarqube/extensions
    #         - ./docker_volumes/sonarqube_logs:/opt/sonarqube/logs
    #         - ./docker_volumes/sonarqube_temp:/opt/sonarqube/temp

            